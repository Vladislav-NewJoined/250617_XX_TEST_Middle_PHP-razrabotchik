README_ИНСТРУКЦИЯ.txt

Исполнитель:
Созин Владислав
+7 909 328-59-88 (WhatsApp)
https://t.me/tess_SV (Telegram)
sozin.vladislav@mail.ru

22.06.2025

Проект: 250617_XX_TEST_Middle_PHP-razrabotchik
Описание
Это тестовый проект на Laravel для Middle PHP-разработчика.
Проект реализует API для ленты постов с учётом фильтрации по популярности, просмотрам и индивидуальной истории пользователя.

Внимание:
Для простоты данные о постах хранятся в массиве в отдельном файле, база данных НЕ используется!

Как запустить проект
1. Откройте проект в VS Code
(или в другой удобной среде разработки)

2. Откройте терминал
(например, PowerShell в папке проекта)

3. Выполните команды по очереди:
composer install
copy .env.example .env
php artisan key:generate
php data/generate_posts.php
php artisan serve
Как проверить работу API
1. Получить ленту постов (GET-запрос):

В браузере или в Postman перейдите по адресу:
http://127.0.0.1:8000/api/posts
Вы увидите массив постов в формате JSON, отсортированных по популярности (hotness).
Из ленты исключаются посты, которые пользователь уже видел, а также посты, которые были показаны более 1000 раз.

Пример ответа:

json
[
  {
    "id": 391,
    "created_at": "2025-03-31 19:54:02",
    "title": "Заголовок поста #391",
    "content": "Это содержимое поста номер 391.",
    "hotness": 1000,
    "views_count": 426
  },
  ...
]
2. Отметить пост как просмотренный (POST-запрос):

В Postman создайте новый POST-запрос по адресу:
http://127.0.0.1:8000/api/posts/{id}/viewed
где {id} — это идентификатор поста, например 391.

Пример:
POST http://127.0.0.1:8000/api/posts/391/viewed
В ответе будет сообщение о том, что пост отмечен как просмотренный.

3. Проверьте фильтрацию:

После отметки поста как просмотренного, снова выполните GET-запрос к /api/posts — этот пост больше не будет отображаться в вашей ленте.

Примечания
Вся логика находится в файле:
app/Http/Controllers/PostController.php

Массив постов хранится в файле:
data/posts.php
(создаётся автоматически скриптом data/generate_posts.php)

Для проверки не требуется база данных — только PHP, Composer и браузер/Postman!

Сессия пользователя хранится автоматически, поэтому просмотренные посты не будут повторяться в ленте в рамках одной сессии.

Контакты для связи:
Созин Владислав
+7 909 328-59-88 (WhatsApp)
https://t.me/tess_SV (Telegram)
sozin.vladislav@mail.ru